<section id="gestion-pedidos-view" class="main-content-section">
    <h2>üõçÔ∏è Gesti√≥n de Pedidos de Compra</h2>
    
    <div class="list-controls document-controls">
        <button id="btn-nuevo-pedido" class="btn-primary">‚ûï Crear Nuevo Pedido</button>
        
        <div class="search-group">
            <select id="filtro-pedidos-mes">
                <option value="">Filtrar por Mes</option>
                <!-- Opciones de meses se cargar√°n con JS (Enero, Febrero, etc.) -->
            </select>
            <input type="text" id="filtro-pedidos-ref" placeholder="Buscar por Ref. o Proveedor">
            <button id="btn-aplicar-filtro-pedido" class="btn-secondary">Buscar</button>
        </div>
    </div>
    
    <!-- Listado principal de Pedidos -->
    <table id="tabla-pedidos" class="data-table">
        <thead>
            <tr>
                <th>Referencia</th>
                <th>Fecha Creaci√≥n</th>
                <th>Proveedor</th>
                <th>Total (‚Ç¨)</th>
                <th>Estado</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <!-- Los pedidos se cargar√°n aqu√≠ con JS -->
        </tbody>
    </table>
</section>

<!-- MODAL DE DETALLE Y ACCI√ìN PARA PEDIDOS (Igual formato que Albaranes) -->
<div id="pedido-detalle-modal" class="modal-backdrop" style="display: none;">
    <div class="modal-content large-modal">
        <span class="close-button">&times;</span>
        <h3 id="pedido-modal-title">Detalle del Pedido #<span id="pedido-ref-display-modal">P00X</span></h3>
        
        <!-- Contenido Fijo / Est√°tico -->
        <div id="pedido-detalle-estatico">
            <p><strong>Proveedor:</strong> <span id="pedido-proveedor"></span></p>
            <p><strong>Fecha:</strong> <span id="pedido-fecha"></span></p>
            <p><strong>Estado:</strong> <span id="pedido-estado"></span></p>

            <h4>Art√≠culos del Pedido</h4>
            <table id="pedido-articulos-table" class="modal-data-table">
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Cantidad</th>
                        <th>Precio Unitario (‚Ç¨)</th>
                        <th>Subtotal (‚Ç¨)</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Art√≠culos del pedido se cargan aqu√≠ -->
                </tbody>
                <tfoot>
                    <tr>
                        <th colspan="3" style="text-align: right;">TOTAL:</th>
                        <th id="pedido-total-display"></th>
                    </tr>
                </tfoot>
            </table>
        </div>
        
        <!-- Formulario de Edici√≥n (Oculto por defecto, se activa con el bot√≥n Modificar) -->
        <form id="pedido-modificar-form" style="display: none;">
            <!-- Campos para modificar los detalles del pedido -->
            <p class="text-xs text-muted">**Aqu√≠ se cargar√≠an los campos para modificar proveedor, fechas o l√≠neas de art√≠culo**</p>
            <button type="submit" class="btn-success">Guardar Modificaciones</button>
        </form>

        <div class="modal-actions">
            <button id="btn-modificar-pedido" class="btn-primary">‚úèÔ∏è Modificar</button>
            <button id="btn-descargar-pdf-pedido" class="btn-secondary">‚¨áÔ∏è Descargar PDF</button>
        </div>
    </div>
</div>